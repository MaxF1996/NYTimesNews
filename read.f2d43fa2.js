!function(){function n(n){return n.length<=115?n:n.slice(0,115)+"..."}function e(n){return n.length<72?n:n.slice(0,72)+"..."}function t(n){if(!n)return null;var e=new Date(n),t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate();return a<10&&(a="0"+a),s<10&&(s="0"+s),"".concat(a+"/"+s+"/"+t)}var s=function(n){try{var e=localStorage.getItem(n);return null===e?void 0:JSON.parse(e)}catch(n){console.error("Get state error: ",n.message)}};function a(s){var a=s.media,i=s.title,c=s.section,r=s.subsection,l=s.abstract,o=s.published_date,d=s.url;return'\n        <li class="news-item">\n        <div class="overlay"></div>\n        <div class="img-thumb">\n        <span class="readable"\n        >Already read\n        <svg class="icon-done" width="18" height="18"><use\n        href="/sprite.f14d31f7.svg#arrow-done"></use></svg>\n          </span>\n          <img src="'.concat(a[0]?a[0]["media-metadata"][2].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg",'" loading="lazy" alt="').concat(a[0]?a[0].caption:"NYTimes",'" class="news-img" />\n          <p class="news-chip">').concat(c||r,'</p>\n          <button type="button" class="add-news-favorite">\n            <p class="favorite-btn-text">Add to favorite</p>\n            <svg class="favorite-icon" width="16" height="16">\n             <use href="/sprite.f14d31f7.svg#heart-empty" class="icon-empty-heart"></use>  \n             <use href="/sprite.f14d31f7.svg#heart-fill" class="icon-heart"></use>  \n                </svg> \n          </button>\n        </div>\n        <div class="news-info">\n          <h2 class="news-title disable-scroll">\n            ').concat(e(i),'\n          </h2>\n          <p class="news-desk">\n          ').concat(n(l),'\n          </p>\n          <div class="adding">\n            <p class="news-date">').concat(t(o),"</p>\n            <a\n              href=").concat(d,'\n              class="news-link"\n              target="_blank"\n              rel="noopener noreferrer"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> ')}var i=document.querySelector(".read"),c="read";function r(n){if(n.published_date)return n.published_date;var e=/(\d+-\d+-\d+)/g.exec(n.pub_date);return e?e[1]:n.pub_date}window.addEventListener("DOMContentLoaded",(function(){console.log("add All Read On Page");var l=s(c);if(void 0!==l){var o=l.sort((function(n,e){return r(e).localeCompare(r(n))}));console.log("sorted",o);var d=null,u="";o.forEach((function(s){var i,c,l,o,v,h,p,g,f=r(s);d!==f&&(null!==d&&(u+="</div>"),d=f,u+=function(n){return'\n\t\t <li class="read__block">\n\t\t\t <div class="read__title">\n\t\t\t\t <div class="read__date">\n\t\t\t\t\t <span class="date">'.concat(t(n),'</span>\n\t\t\t\t </div>\n\t\t\t \t <button type="button" class="show-btn show-btn__up" id=\'').concat(n,"'></button>\n\t\t\t </div>\n\t\t </li>\n\t\t <div class=\"read__gallery\" id='read__gallery-").concat(n,"'>")}(f)),Object.keys(s).includes("pub_date")?u+=(c=(i=s).section_name,l=i.web_url,o=i.headline,v=i.lead_paragraph,h=i.pub_date,p=i.multimedia,g=i.snippet,'\n        <li class="news-item">\n        <div class="overlay"></div>\n        <div class="img-thumb">\n        <span class="readable"\n        >Already read\n        <svg class="icon-done" width="18" height="18"><use\n        href="/sprite.f14d31f7.svg#arrow-done"></use></svg>\n          </span>\n          <img src="'.concat(p[0]?"https://www.nytimes.com/"+p[0].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg",'" loading="lazy" alt="').concat(p[0].url?g:"NYTimes",'" class="news-img" />\n          <p class="news-chip">').concat(c,'</p>\n          <button type="button" class="add-news-favorite">\n            <p class="favorite-btn-text">Add to favorite</p>\n            <svg class="favorite-icon" width="16" height="16">\n             <use href="/sprite.f14d31f7.svg#heart-empty" class="icon-empty-heart"></use>  \n             <use href="/sprite.f14d31f7.svg#heart-fill" class="icon-heart"></use>  \n                </svg> \n          </button>\n        </div>\n        <div class="news-info">\n          <h2 class="news-title disable-scroll">\n            ').concat(e(o.main),'\n          </h2>\n          <p class="news-desk">\n          ').concat(n(v),'\n          </p>\n          <div class="adding">\n            <p class="news-date">').concat(t(h),"</p>\n            <a\n              href=").concat(l,'\n              class="news-link"\n              target="_blank"\n              rel="noopener noreferrer"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> ')):u+=a(s)})),u+="</div>",i.insertAdjacentHTML("beforeend",u)}document.querySelectorAll(".show-btn").forEach((function(n){var e=document.getElementById("read__gallery-"+n.id);n.addEventListener("click",(function(t){e.classList.toggle("hidden"),n.classList.toggle("show-btn__up"),n.classList.toggle("show-btn__down")}))}))}))}();
//# sourceMappingURL=read.f2d43fa2.js.map
