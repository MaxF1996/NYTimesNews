!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire08bc;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire08bc=a),a.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),a.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),a.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),a.register("jdVyQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}})),a.register("8ANMY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.set)return"__destrWrapper"in t||(t.__destrWrapper={set value(n){t.set.call(e,n)},get value(){return t.get.call(e)}}),t.__destrWrapper;if(!t.writable)throw new TypeError("attempted to set read only private field");return t}})),a.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}}));var i="favPagesData",o={mobile:5,tablet:8,desktop:9};Object.freeze(o);var u={mobile:320,tablet:768};Object.freeze(u);var s={container:"news-container",card:"news-item",favButton:"add-news-favorite",icon:"favorite-icon",inFavorites:"in-favorites",title:"news-title",abstract:"news-desk",section:"news-chip",media:"news-img",published_date:"news-date",url:"news-link"};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],a=localStorage.getItem(e);if(a)try{r=JSON.parse(a)}catch(e){console.log(e.message)}return n&&(n(r,t),localStorage.setItem(e,JSON.stringify(r))),r}function l(e,t){var n=t.querySelector(".".concat(s.title)).textContent.trim();return c(e).findIndex((function(e){return e.title===n}))}function f(e,t){e.splice(t,1)}function d(e,t){e.unshift(function(e){return{media:[{url:e.querySelector(".".concat(s.media)).src,caption:e.querySelector(".".concat(s.media)).alt}],title:e.querySelector(".".concat(s.title)).textContent.trim(),section:e.querySelector(".".concat(s.section)).textContent,subsection:"",abstract:e.querySelector(".".concat(s.abstract)).textContent,published_date:e.querySelector(".".concat(s.published_date)).textContent,url:e.querySelector(".".concat(s.url)).href}}(t))}Object.freeze(s);var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(e,t){var n=h.default(e,t,"get");return b.default(e,n)};var h=g(a("1UHsN")),b=g(a("ffZzF"));function g(e){return e&&e.__esModule?e:{default:e}}var w={};Object.defineProperty(w,"__esModule",{value:!0}),w.default=function(e,t,n){m.default(e,t),t.set(e,n)};var y,m=(y=a("5k7tO"))&&y.__esModule?y:{default:y};var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=function(e,t,n){var r=x.default(e,t,"set");return M.default(e,r,n),n};var x=j(a("1UHsN")),M=j(a("jdVyQ"));function j(e){return e&&e.__esModule?e:{default:e}}var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(e,t){var n=k.default(e,t,"update");return N.default(e,n)};var k=T(a("1UHsN")),N=T(a("8ANMY"));function T(e){return e&&e.__esModule?e:{default:e}}var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n};var S={};Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(e,t){E.default(e,t),t.add(e)};var E=function(e){return e&&e.__esModule?e:{default:e}}(a("5k7tO"));var q={};function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(q,"__esModule",{value:!0}),q.default=function(e,t,n){t&&W(e.prototype,t);n&&W(e,n);return e};var C=new WeakMap,D=new WeakMap,H=new WeakMap,L=new WeakMap,z=new WeakMap,A=new WeakMap,F=new WeakSet,U=function(){"use strict";function t(n,r){e(v)(this,t),e(S)(this,F),e(w)(this,C,{writable:!0,value:0}),e(w)(this,D,{writable:!0,value:0}),e(w)(this,H,{writable:!0,value:1}),e(w)(this,L,{writable:!0,value:""}),e(w)(this,z,{writable:!0,value:{}}),e(w)(this,A,{writable:!0,value:[]}),e(_)(this,L,n),e(_)(this,z,r),this.refresh()}return e(q)(t,[{key:"refresh",value:function(){var t;e(_)(this,A,c(e(p)(this,L))),e(_)(this,C,(t=e(p)(this,z),window.matchMedia("(max-width: ".concat(u.mobile,"px)")).matches?t.mobile:window.matchMedia("(max-width: ".concat(u.tablet,"px)")).matches?t.tablet:t.desktop)),e(_)(this,D,e(P)(this,F,Y).call(this))}},{key:"getPageData",value:function(){return e(p)(this,A).slice((e(p)(this,H)-1)*e(p)(this,C),e(p)(this,H)*e(p)(this,C))}},{key:"getNextPageData",value:function(){return e(p)(this,H)===e(p)(this,D)?null:(++e(O)(this,H).value,this.getPageData())}}]),t}();function Y(){return Math.ceil(e(p)(this,A).length/e(p)(this,C))}var B,I=a("l5bVx"),R="Expected a function",V=/^\s+|\s+$/g,$=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,Q=/^0o[0-7]+$/i,Z=parseInt,G="object"==typeof t&&t&&t.Object===Object&&t,K="object"==typeof self&&self&&self.Object===Object&&self,X=G||K||Function("return this")(),ee=Object.prototype.toString,te=Math.max,ne=Math.min,re=function(){return X.Date.now()};function ae(e,t,n){var r,a,i,o,u,s,c=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(R);function v(t){var n=r,i=a;return r=a=void 0,c=t,o=e.apply(i,n)}function p(e){return c=e,u=setTimeout(b,t),l?v(e):o}function h(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-c>=i}function b(){var e=re();if(h(e))return g(e);u=setTimeout(b,function(e){var n=t-(e-s);return f?ne(n,i-(e-c)):n}(e))}function g(e){return u=void 0,d&&r?v(e):(r=a=void 0,o)}function w(){var e=re(),n=h(e);if(r=arguments,a=this,s=e,n){if(void 0===u)return p(s);if(f)return u=setTimeout(b,t),v(s)}return void 0===u&&(u=setTimeout(b,t)),o}return t=oe(t)||0,ie(n)&&(l=!!n.leading,i=(f="maxWait"in n)?te(oe(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),w.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=a=u=void 0},w.flush=function(){return void 0===u?o:g(re())},w}function ie(t){var n=void 0===t?"undefined":e(I)(t);return!!t&&("object"==n||"function"==n)}function oe(t){if("number"==typeof t)return t;if(function(t){return"symbol"==(void 0===t?"undefined":e(I)(t))||function(e){return!!e&&"object"==typeof e}(t)&&"[object Symbol]"==ee.call(t)}(t))return NaN;if(ie(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ie(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(V,"");var r=J.test(t);return r||Q.test(t)?Z(t.slice(2),r?2:8):$.test(t)?NaN:+t}B=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError(R);return ie(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),ae(e,t,{leading:r,maxWait:t,trailing:a})};var ue=document.querySelector(".".concat(s.container));ue.addEventListener("click",(function(e){if(e.target.classList.contains(s.favButton)||e.target.parentNode.classList.contains(s.favButton)||"use"===e.target.tagName){var t=function(e,t){for(var n=t;!n.classList.contains(e);)n=n.parentElement;return n}(s.card,e.target),n=l(i,t);n>-1?function(e,t,n){c(e,t,f),n.querySelector(".".concat(s.favButton)).textContent="Add to favorite"}(i,n,t):function(e,t){c(e,t,d),t.querySelector(".".concat(s.favButton)).textContent="In favorite"}(i,t)}}));var se=new U(i,o),ce=se.getPageData().reduce((function(e,t){return le(t)+e}),"");function le(e){var t=e.media,n=e.title,r=e.section,a=e.subsection,i=e.abstract,o=e.published_date,u=e.url;return'\n          <li class="news-item">\n          <div class="overlay"></div>\n          <div class="img-thumb">\n          <span class="readable"\n          >Already read\n          <svg class="icon-done" width="18" height="18"><use\n          href="/sprite.f14d31f7.svg#arrow-done"></use></svg>\n            </span>\n            <img src="'.concat(t[0]?t[0].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg",'" loading="lazy" alt="').concat(t[0]?t[0].caption:"NYTimes",'" class="news-img" />\n            <p class="news-chip">').concat(r||a,'</p>\n            <button type="button" class="add-news-favorite">\n              <p class="favorite-btn-text">Remove from favorite</p>\n              <svg class="favorite-icon" width="16" height="16">\n               <use href="/sprite.f14d31f7.svg#heart-empty" class="icon-empty-heart"></use>  \n               <use href="/sprite.f14d31f7.svg#heart-fill" class="icon-heart"></use>  \n                  </svg> \n            </button>\n          </div>\n          <div class="news-info">\n            <h2 class="news-title disable-scroll">\n              ').concat(n,'\n            </h2>\n            <p class="news-desk">\n            ').concat(i,'\n            </p>\n            <div class="adding">\n              <p class="news-date">').concat(o,"</p>\n              <a\n                href=").concat(u,'\n                class="news-link"\n                target="_blank"\n                rel="noopener noreferrer"\n                >Read more</a\n              >\n            </div>\n          </div>\n        </li> ')}ue.insertAdjacentHTML("beforeend",ce),window.addEventListener("scroll",e(B)((function(){!function(){if(window.innerHeight+window.scrollY<document.body.offsetHeight-1)return;var e=se.getNextPageData();if(e){var t=e.reduce((function(e,t){return le(t)+e}),"");ue.insertAdjacentHTML("beforeend",t)}}()}),300))}();
//# sourceMappingURL=favorites.513af66d.js.map
