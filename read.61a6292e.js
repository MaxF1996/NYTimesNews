function e(e){return e.length<=115?e:e.slice(0,115)+"..."}function n(e){return e.length<72?e:e.slice(0,72)+"..."}function t(e){if(!e)return null;const n=new Date(e),t=n.getFullYear();let s=n.getMonth()+1,a=n.getDate();a<10&&(a="0"+a),s<10&&(s="0"+s);return""+(a+"/"+s+"/"+t)}const s=e=>{try{const n=localStorage.getItem(e);return null===n?void 0:JSON.parse(n)}catch(e){console.error("Get state error: ",e.message)}};function a({section_name:s,web_url:a,headline:i,lead_paragraph:l,pub_date:r,multimedia:d,snippet:o}){return`\n        <li class="news-item">\n        <div class="overlay"></div>\n        <div class="img-thumb">\n        <span class="readable"\n        >Already read\n        <svg class="icon-done" width="18" height="18"><use\n        href="/sprite.f14d31f7.svg#arrow-done"></use></svg>\n          </span>\n          <img src="${d[0]?"https://www.nytimes.com/"+d[0].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg"}" loading="lazy" alt="${d[0].url?o:"NYTimes"}" class="news-img" />\n          <p class="news-chip">${s}</p>\n          <button type="button" class="add-news-favorite">\n            <p class="favorite-btn-text">Add to favorite</p>\n            <svg class="favorite-icon" width="16" height="16">\n             <use href="/sprite.f14d31f7.svg#heart-empty" class="icon-empty-heart"></use>  \n             <use href="/sprite.f14d31f7.svg#heart-fill" class="icon-heart"></use>  \n                </svg> \n          </button>\n        </div>\n        <div class="news-info">\n          <h2 class="news-title disable-scroll">\n            ${n(i.main)}\n          </h2>\n          <p class="news-desk">\n          ${e(l)}\n          </p>\n          <div class="adding">\n            <p class="news-date">${t(r)}</p>\n            <a\n              href=${a}\n              class="news-link"\n              target="_blank"\n              rel="noopener noreferrer"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> `}function i({media:s,title:a,section:i,subsection:l,abstract:r,published_date:d,url:o}){return`\n        <li class="news-item">\n        <div class="overlay"></div>\n        <div class="img-thumb">\n        <span class="readable"\n        >Already read\n        <svg class="icon-done" width="18" height="18"><use\n        href="/sprite.f14d31f7.svg#arrow-done"></use></svg>\n          </span>\n          <img src="${s[0]?s[0]["media-metadata"][2].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg"}" loading="lazy" alt="${s[0]?s[0].caption:"NYTimes"}" class="news-img" />\n          <p class="news-chip">${i||l}</p>\n          <button type="button" class="add-news-favorite">\n            <p class="favorite-btn-text">Add to favorite</p>\n            <svg class="favorite-icon" width="16" height="16">\n             <use href="/sprite.f14d31f7.svg#heart-empty" class="icon-empty-heart"></use>  \n             <use href="/sprite.f14d31f7.svg#heart-fill" class="icon-heart"></use>  \n                </svg> \n          </button>\n        </div>\n        <div class="news-info">\n          <h2 class="news-title disable-scroll">\n            ${n(a)}\n          </h2>\n          <p class="news-desk">\n          ${e(r)}\n          </p>\n          <div class="adding">\n            <p class="news-date">${t(d)}</p>\n            <a\n              href=${o}\n              class="news-link"\n              target="_blank"\n              rel="noopener noreferrer"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> `}const l=document.querySelector(".read");function r(e){if(e.published_date)return e.published_date;const n=/(\d+-\d+-\d+)/g.exec(e.pub_date);return n?n[1]:e.pub_date}window.addEventListener("DOMContentLoaded",(function(){console.log("add All Read On Page");const e=s("read");if(void 0!==e){const n=e.sort(((e,n)=>r(n).localeCompare(r(e))));console.log("sorted",n);let s=null,d="";n.forEach((e=>{let n=r(e);s!==n&&(null!==s&&(d+="</div>"),s=n,d+=function(e){return`\n\t\t <li class="read__block">\n\t\t\t <div class="read__title">\n\t\t\t\t <div class="read__date">\n\t\t\t\t\t <span class="date">${t(e)}</span>\n\t\t\t\t </div>\n\t\t\t \t <button type="button" class="show-btn show-btn__up" id='${e}'></button>\n\t\t\t </div>\n\t\t </li>\n\t\t <div class="read__gallery" id='read__gallery-${e}'>`}(n)),Object.keys(e).includes("pub_date")?d+=a(e):d+=i(e)})),d+="</div>",l.insertAdjacentHTML("beforeend",d)}document.querySelectorAll(".show-btn").forEach((e=>{const n=document.getElementById("read__gallery-"+e.id);e.addEventListener("click",(t=>{n.classList.toggle("hidden"),e.classList.toggle("show-btn__up"),e.classList.toggle("show-btn__down")}))}))}));
//# sourceMappingURL=read.61a6292e.js.map
