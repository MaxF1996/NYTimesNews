!function(){function n(n){return n.length<=115?n:n.slice(0,115)+"..."}function e(n){return n.length<72?n:n.slice(0,72)+"..."}function t(n){if(!n)return null;var e,t,a;t=/(\d+-\d+-\d+)/g,n=null!==(a=(e=n).match(t))?a[0]:e;var s=new Date(n),c=s.getFullYear(),i=s.getMonth()+1,l=s.getDate();return l<10&&(l="0"+l),i<10&&(i="0"+i),"".concat(l+"/"+i+"/"+c)}var a=function(n){try{var e=localStorage.getItem(n);return null===e?void 0:JSON.parse(e)}catch(n){console.error("Get state error: ",n.message)}};Object.freeze({mobile:5,tablet:8,desktop:9});Object.freeze({mobile:320,tablet:768});Object.freeze({container:"news-container",card:"news-item",favButton:"add-news-favorite",favButtonText:"favorite-btn-text",favButtonIcon:"favorite-icon",inFavorites:"in-favorites",title:"news-title",abstract:"news-desk",section:"news-chip",media:"news-img",published_date:"news-date",url:"news-link"});var s='<path class="icon-empty-heart" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.333 4c-3.681 0-6.667 2.955-6.667 6.6 0 2.943 1.167 9.927 12.651 16.987a1.316 1.316 0 0 0 1.366 0c11.484-7.06 12.651-14.044 12.651-16.987 0-3.645-2.985-6.6-6.667-6.6S16 8 16 8s-2.985-4-6.667-4z" />';function c(a){var c=a.media,i=a.title,l=a.section,o=a.subsection,r=a.abstract,d=a.published_date,v=a.url;return'\n        <li class="news-item">\n        <div class="overlay"></div>\n        <div class="img-thumb">\n            <img src="'.concat(c[0]?c[0]["media-metadata"][2].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg",'" loading="lazy" alt="').concat(c[0]?c[0].caption:"NYTimes",'" class="news-img" />\n            <p class="news-chip">').concat(l||o,'</p>\n            <span class="readable"\n                    >Already read\n                    <svg class="icon-done" width="18" height="18" viewBox="0 0 32 32"><path d="M28.78 6.39c-0.277 0.008-0.54 0.124-0.733 0.323l-16.313 16.313-6.713-6.713c-0.098-0.102-0.216-0.184-0.346-0.24s-0.27-0.086-0.412-0.088c-0.142-0.001-0.283 0.025-0.414 0.079s-0.251 0.133-0.351 0.233c-0.1 0.1-0.18 0.22-0.233 0.351s-0.081 0.272-0.079 0.414c0.001 0.142 0.031 0.282 0.087 0.412s0.138 0.248 0.24 0.346l7.467 7.467c0.2 0.2 0.471 0.312 0.754 0.312s0.554-0.112 0.754-0.312l17.067-17.067c0.154-0.15 0.259-0.343 0.302-0.553s0.021-0.429-0.063-0.627c-0.084-0.198-0.225-0.366-0.406-0.482s-0.393-0.175-0.607-0.168v0z"></path></svg>\n            </span>\n            <button type="button" class="add-news-favorite">\n              <p class="favorite-btn-text">Add to favorite</p>\n              <svg class="favorite-icon" width="16" height="16" viewBox="0 0 32 32">\n               ').concat(s,'\n              </svg>\n            </button>\n        </div>\n        <div class="news-info">\n          <h2 class="news-title disable-scroll">\n            ').concat(e(i),'\n          </h2>\n          <p class="news-desk">\n          ').concat(n(r),'\n          </p>\n          <div class="adding">\n            <p class="news-date">').concat(t(d),"</p>\n            <a\n              href=").concat(v,'\n              class="news-link"\n              target="_blank"\n              rel="noopener noreferrer"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> ')}function i(a){var c=a.section,i=a.url,l=a.abstract,o=a.title,r=a.published_date,d=a.multimedia;return'\n        <li class="news-item">\n        <div class="overlay"></div>\n        <div class="img-thumb">\n        <span class="readable"\n        >Already read\n        <svg class="icon-done" width="18" height="18" viewBox="0 0 32 32"><path d="M28.78 6.39c-0.277 0.008-0.54 0.124-0.733 0.323l-16.313 16.313-6.713-6.713c-0.098-0.102-0.216-0.184-0.346-0.24s-0.27-0.086-0.412-0.088c-0.142-0.001-0.283 0.025-0.414 0.079s-0.251 0.133-0.351 0.233c-0.1 0.1-0.18 0.22-0.233 0.351s-0.081 0.272-0.079 0.414c0.001 0.142 0.031 0.282 0.087 0.412s0.138 0.248 0.24 0.346l7.467 7.467c0.2 0.2 0.471 0.312 0.754 0.312s0.554-0.112 0.754-0.312l17.067-17.067c0.154-0.15 0.259-0.343 0.302-0.553s0.021-0.429-0.063-0.627c-0.084-0.198-0.225-0.366-0.406-0.482s-0.393-0.175-0.607-0.168v0z"></path></svg>\n          </span>\n          <img src="'.concat(d?"null"===String(d)?"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg":d[2].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg",'" loading="lazy" alt="').concat(d?"null"===String(d)?"NYTimes":d[2].caption:"NYTimes",'"\n    class="news-img" />\n          <p class="news-chip">').concat(c,'</p>\n          <button type="button" class="add-news-favorite">\n            <p class="favorite-btn-text">Add to favorite</p>\n            <svg class="favorite-icon" width="16" height="16" viewBox="0 0 32 32">\n             ').concat(s,'\n                </svg> \n          </button>\n        </div>\n        <div class="news-info">\n          <h2 class="news-title disable-scroll">\n            ').concat(e(o),'\n          </h2>\n          <p class="news-desk">\n          ').concat(n(l),'\n          </p>\n          <div class="adding">\n            <p class="news-date">').concat(t(r),"</p>\n            <a\n              href=").concat(i,'\n              class="news-link"\n              target="_blank"\n              rel="noopener noreferrer"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> ')}function l(){if("null"!==String(localStorage.getItem("read"))){var n=document.querySelectorAll('[class="news-item"]'),e=JSON.parse(localStorage.getItem("read")).map((function(n){return n.url?n.url:n.web_url?n.web_url:void 0}));n.forEach((function(n){e.includes(n.querySelector(".news-link").getAttribute("href"))&&n.classList.add("read-card")}))}}var o='<path d="M3.76 6.857 0 10.336l16 14.806 16-14.806-3.76-3.479L16 18.159 3.76 6.857z"/>',r='<path d="M3.76 25.143 0 21.664 16 6.858l16 14.806-3.76 3.479L16 13.841 3.76 25.143z"/>',d=document.querySelector(".read"),v="read",u=null;function g(n){var e=n.published_date||n.pub_date,t=/(\d+-\d+-\d+)/g.exec(e);return t?t[1]:e}window.addEventListener("DOMContentLoaded",(function(){var p=a(v);if(void 0!==p){var h=p.sort((function(n,e){return g(e).localeCompare(g(n))})),w="";h.forEach((function(l){var d,v,p,h,m,b,f,_,y=g(l);u!==y&&(null!==u&&(w+="</div>"),u=y,w+=function(n){var e="hidden",s="hidden",c="",i=n.replaceAll("-","");console.log("dateToCompare",i);var l=a("selectedDateKey");console.log("dateFromCalen",l),l!==i?console.log("совпадений нет"):(console.log("совпадение дат"),e="",s="",c="hidden");return'\n\t\t <li class="read__block">\n\t\t\t <div class="read__title">\n\t\t\t\t <div class="read__date">\n\t\t\t\t\t <span class="date">'.concat(t(n),'</span>\n\t\t\t\t </div>\n\t\t\t \t <button type="button" class="show-btn show-btn__up" id=\'').concat(n,"'>\n\t\t\t\t  \t\t<svg class=\"icon read__icon--down ").concat(c,'" viewBox="0 0 32 32">').concat(o,'</svg>\n\t\t\t\t\t\t<svg class="icon read__icon--top ').concat(s,'" viewBox="0 0 32 32">').concat(r,'</svg>\n\t\t\t\t </button>\n\t\t\t </div>\n\t\t </li>\n\t\t <div class="read__gallery ').concat(e,"\" id='read__gallery-").concat(n,"'>")}(y)),Object.keys(l).includes("pub_date")?w+=(v=(d=l).section_name,p=d.web_url,h=d.headline,m=d.lead_paragraph,b=d.pub_date,f=d.multimedia,_=d.snippet,'\n        <li class="news-item">\n        <div class="overlay"></div>\n        <div class="img-thumb">\n        <span class="readable"\n        >Already read\n        <svg class="icon-done" width="18" height="18" viewBox="0 0 32 32"><path d="M28.78 6.39c-0.277 0.008-0.54 0.124-0.733 0.323l-16.313 16.313-6.713-6.713c-0.098-0.102-0.216-0.184-0.346-0.24s-0.27-0.086-0.412-0.088c-0.142-0.001-0.283 0.025-0.414 0.079s-0.251 0.133-0.351 0.233c-0.1 0.1-0.18 0.22-0.233 0.351s-0.081 0.272-0.079 0.414c0.001 0.142 0.031 0.282 0.087 0.412s0.138 0.248 0.24 0.346l7.467 7.467c0.2 0.2 0.471 0.312 0.754 0.312s0.554-0.112 0.754-0.312l17.067-17.067c0.154-0.15 0.259-0.343 0.302-0.553s0.021-0.429-0.063-0.627c-0.084-0.198-0.225-0.366-0.406-0.482s-0.393-0.175-0.607-0.168v0z"></path></svg>\n          </span>\n          <img src="'.concat(f[0]?"https://www.nytimes.com/"+f[0].url:"https://raw.githubusercontent.com/MaxF1996/NYTimesNews/main/src/images/The_New_York_Times.jpg",'" loading="lazy" alt="').concat(f?_:"NYTimes",'" class="news-img" />\n          <p class="news-chip">').concat(v,'</p>\n          <button type="button" class="add-news-favorite">\n            <p class="favorite-btn-text">Add to favorite</p>\n            <svg class="favorite-icon" width="16" height="16" viewBox="0 0 32 32">\n             ').concat(s,' \n            </svg> \n          </button>\n        </div>\n        <div class="news-info">\n          <h2 class="news-title disable-scroll">\n            ').concat(e(h.main),'\n          </h2>\n          <p class="news-desk">\n          ').concat(n(m),'\n          </p>\n          <div class="adding">\n            <p class="news-date">').concat(t(b),"</p>\n            <a\n              href=").concat(p,'\n              class="news-link"\n              target="_blank"\n              rel="noopener noreferrer"\n              >Read more</a\n            >\n          </div>\n        </div>\n      </li> ')):Object.keys(l).includes("pub_date")&&!id?w+=c(l):w+=i(l)})),w+="</div>",d.insertAdjacentHTML("beforeend",w)}document.querySelectorAll(".show-btn").forEach((function(n){var e=document.getElementById("read__gallery-"+n.id),t=n.firstElementChild,a=n.lastElementChild;n.addEventListener("click",(function(n){e.classList.toggle("hidden"),a.classList.toggle("hidden"),t.classList.toggle("hidden")}))})),l()}))}();
//# sourceMappingURL=read.f60cb2e0.js.map
